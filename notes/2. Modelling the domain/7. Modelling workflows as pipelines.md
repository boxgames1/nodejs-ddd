- Create pipelines to represent workflows or sets of subtasks.
- Each smaller pipe will do one transformation, this style of programming is called *transformation-oriented-programming*
- Each step is stateless without sode effects.
- The input of a workflow is associated with the command that initiates it.
- To serialize a DTO that contains several Comamnds comming from same channel (queue) use a *command handler*
- Creating several flags about states inside an entitiy has some problems:
  - Has state and would require a ton of conditional code
  - Complicates the design. 
  - Not clear which fields go with which flags.
- A much better approach is to create a new type for each state. It eliminates implicit states and conditional fields. Then create a top-level with choices
- This type of situations are very common. So use *states* as a general domain modelling tool. 
- Changes of state triggered by commands are kwown as **state machines**.
- Benefits of using state machines:
  - Each state can have different allowable behavior
  - All the states are explicitily documented
  - Its a design tool that forces to think about every possibility that could occur.
- Each state should have his own type.
- A command handler is represented by a function that accepts the entire state machine and returns a new version of it.
- 